<!doctype html>

<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>localhost</title>
  </head>

  <body>
    <h1>localhost</h1>
    <h2>scuttlebutt</h2>
    <ul>
      <li><a href="web+ssb:message:sha256:g3hPVPDEO1Aj_uPl0-J2NlhFB2bbFLIHlty-YuqFZ3w=">ssb message</a></li>
      <li><a href="web+ssb:blob:sha256:nBmGtTlQew5bSiy5CwKA7Qz6Qfj6UYzmf9gYgcNg-90=">ssb blob</a></li>
    </ul>

    <img src="/ssb:blob:sha256:nBmGtTlQew5bSiy5CwKA7Qz6Qfj6UYzmf9gYgcNg-90=">
    <script>
      const version = '1.0.0'
      const appName = 'localhost'

      var url = [
        location.protocol,
        '//',
        location.hostname,
        location.port ? ':' + location.port : '',
        '/?s=%s'
      ].join('')

      const handlerName = `${appName} v${version} (${url})`

      const schemes = [
        'ssb',
        'dat'
      ]

      schemes.forEach(scheme => {
        const webScheme = `web+${scheme}`
        window.navigator.registerProtocolHandler(webScheme, url, appName);
      })
    </script>
  </body>
</html>
